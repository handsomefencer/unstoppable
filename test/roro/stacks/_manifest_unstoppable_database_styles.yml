stacks:

sqlite: 
  docker-compose.vendor.yml:
    services: 
      db!: 
  mise/containers/app/Dockerfile.builder.base:
    - /ruby:3.3-alpine3.18/
    - /ruby:3.3-alpine3.19/ !
  mise/containers/app/Dockerfile.builder.deps.dev:
    - /sqlite-dev/
  mise/containers/app/Dockerfile.production:
    - /sqlite-dev/
  mise/containers/db/env/base.env!:
  Gemfile:
    - /gem ["']sqlite3["'], ["']~> 1.4/
  docker-compose.vendor.yml:
    services:
      db!:

postgres: 
  mise/env/base.env:
    - /DATABASE_NAME=postgres/
    - /DATABASE_HOST=db/
    - /DATABASE_PASSWORD=password/
  mise/containers/db/env/development.env:
  mise/containers/db/env/base.env:
    - /POSTGRES_NAME=postgres/
    - /POSTGRES_PASSWORD=password/
    - /POSTGRES_USERNAME=postgres/
  
  mise/containers/app/env/development.env:
    - /DATABASE_URL=postgresql:\/\/postgres:password@db\/db_development/
  mise/containers/db/env/base.env:
  mise/containers/app/Dockerfile.builder.deps.dev:
    - /postgresql-dev/
  docker-compose.vendor.yml:
    services: 
      db:
        image: postgres:16.2-alpine
        volumes:
          - db_data:/var/lib/postgresql/data
        ports:
          - "5432"

mysql:
  Gemfile!: